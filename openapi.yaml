openapi: 3.0.3
info:
  title: ThreadJS API Reference
  version: 1.0.0
  description: |
    **ThreadJS** is a powerful Minecraft Fabric mod that allows you to script Minecraft using JavaScript.
    
    Write your scripts in the `config/jsmods` folder and they'll be loaded automatically on server startup.
    Use `/threadjs reload` to hot-reload your scripts without restarting.
    
    ## Quick Start
    
    ```javascript
    // hello.js - runs on server startup
    // Sends a welcome message to each player that joins.
    
    api.registerMod("Hello", {
      api.log("Hello from ThreadJS!");
      
      api.onPlayerJoin(player => {
        api.sendMessage(`Welcome ${player.name}!`);
      });
    }
    ```
    
    ## Features
    
    -  **Event System** - Listen to game events (player join, block break, etc.)
    -  **Commands** - Register custom commands with tab completion
    -  **World Manipulation** - Edit blocks, spawn entities, teleport players
    -  **Player Management** - Modify health, gamemode, inventory
    -  **Mod System** - Create reusable JS modules with lifecycle hooks
    -  **Debugging** - WebSocket debugger, inspect objects, breakpoints

    ## How to read this reference

    This is **not a web / HTTP API**.

    Everything documented here is a **JavaScript scripting API** you call from your ThreadJS mods.

    The OpenAPI format is used only so Redoc can render a nice reference:

    - Each **path** (like `/api/log`) represents a JavaScript function (for example `api.log(...)`).
    - The **request body** describes the function parameters.
    - The **responses** describe the return value or effect.
    - The HTTP method labels (`GET`, `POST`, etc.) have **no runtime meaning** for ThreadJS.
    - There is **no HTTP server** you can call with `curl` or `fetch`.
    
tags:
  - name: Core
  - name: Messaging
  - name: Commands
  - name: Mods
  - name: Events
  - name: World
  - name: Players
  - name: Entities
  - name: Data
  - name: Scheduling
  - name: Debug

paths:
  /api/log:
    post:
      tags: [Core]
      summary: api.log(message)
      description: |
        Log a value to the server console from your script.

        ```javascript
         // Basic logging
          api.log("Hello from ThreadJS!");

          // Log an object
          api.log({ player: "Steve", health: 20 });

          // Log a number
          api.log(42);
        ```
      x-codeSamples:
        - lang: JavaScript
          label: ThreadJS script
          source: |
            ```javascript
            // hello.js - runs on server startup
            
            api.registerMod("Hello", {
              api.log("Hello from ThreadJS!");
              api.log({ foo: "bar" });
              api.log(42);
            }
            ```
           
  /api/scriptsDir:
    get:
      tags: [Core]
      summary: api.scriptsDir()
      description: |
        Get the absolute path to the `config/jsmods` scripts directory.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  path:
                    type: string
                    description: Absolute path to the scripts folder.

  /api/sendMessage:
    post:
      tags: [Messaging]
      summary: api.sendMessage(message)
      description: |
        Broadcast a chat message to **all** players on the server.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                message:
                  type: string
                  description: Text to broadcast.
      responses:
        '200':
          description: OK (message broadcast)
      x-codeSamples:
        - lang: JavaScript
          label: Broadcast to everyone
          source: |
            api.sendMessage("Server restart in 5 minutes!");
            api.sendMessage("Welcome to the ThreadJS test server.");

  /api/sendMessageTo:
    post:
      tags: [Messaging]
      summary: api.sendMessageTo(target, message)
      description: |
        Send a private chat message to a specific player by name.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [target, message]
              properties:
                target:
                  type: string
                  description: Player name.
                message:
                  type: string
                  description: Message content.
      responses:
        '200':
          description: OK (message sent)
        '404':
          description: Target player not found
      x-codeSamples:
        - lang: JavaScript
          label: Send to one player
          source: |
            api.sendMessageTo("Steve", "You found a secret room!");

  /api/registerCommand:
    post:
      tags: [Commands]
      summary: api.registerCommand(name, handler, minPermissionLevel?, playerOnly?, argSpec?)
      description: |
        Register a custom JavaScript-backed command.

        You call this inside your script. It does **not** create an HTTP endpoint.

        ```javascript
        // /js heal Steve 10
        api.registerCommand("heal", (ctx, args) => {
          const [targetName, amountStr] = args;
          const amount = Number(amountStr) || 0;
          ctx.reply(`Healing ${targetName} for ${amount} HP`);
        });

        // Only ops (permission level 2+) can use this
        api.registerCommand("godmode", (ctx, args) => {
          // ...
        }, 2, true);
        ```
      operationId: registerCommand
      x-threadjs-js-function: true
      x-internal: true
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [name, handler]
              properties:
                name:
                  type: string
                handler:
                  type: string
                  description: Stringified form of the JS function in this schema; real usage is in JS.
                minPermissionLevel:
                  type: integer
                  minimum: 0
                  maximum: 4
                  default: 0
                playerOnly:
                  type: boolean
                  default: false
                argSpec:
                  type: array
                  items:
                    type: string
      responses:
        '201':
          description: Command registered
        '400':
          description: Invalid parameters
      x-codeSamples:
        - lang: JavaScript
          label: Basic command
          source: |
            api.registerCommand("ping", (ctx, args) => {
              ctx.reply("Pong!");
            });

        - lang: JavaScript
          label: Command with permissions
          source: |
            api.registerCommand("heal", (ctx, args) => {
              const [targetName, amountStr] = args;
              const amount = Number(amountStr) || 10;
              ctx.reply(`Healing ${targetName} for ${amount} HP`);
            }, 2, true, ["player", "int"]);

  /api/registerMod:
    post:
      tags: [Mods]
      summary: api.registerMod(id, module)
      description: |
        Register a JavaScript "mod module" with optional lifecycle hooks.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [id, module]
              properties:
                id:
                  type: string
                module:
                  type: object
                  properties:
                    onInitialize:
                      type: string
                    onReload:
                      type: string
      responses:
        '201':
          description: Mod registered
      x-codeSamples:
        - lang: JavaScript
          label: Simple mod
          source: |
            api.registerMod("hello-mod", {
              onInitialize(api) {
                api.log("hello-mod initialized");
              },
              onReload(api) {
                api.log("hello-mod reloaded");
              }
            });

  /api/events/serverTick:
    post:
      tags: [Events]
      summary: api.onServerTick(callback)
      description: |
        Register a callback that runs every server tick.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                callback:
                  type: string
      responses:
        '200':
          description: Handler registered
      x-codeSamples:
        - lang: JavaScript
          label: Every tick
          source: |
            api.onServerTick(() => {
              // do something every tick
            });

  /api/events/playerJoin:
    post:
      tags: [Events]
      summary: api.onPlayerJoin(callback)
      description: |
        Register a callback for when a player joins the server.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PlayerEventHandler'
      responses:
        '200':
          description: Handler registered
      x-codeSamples:
        - lang: JavaScript
          label: Welcome message
          source: |
            api.onPlayerJoin(player => {
              api.sendMessage(`Welcome ${player.name} to the server!`);
            });

  /api/events/playerLeave:
    post:
      tags: [Events]
      summary: api.onPlayerLeave(callback)
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PlayerEventHandler'
      responses:
        '200':
          description: Handler registered

  /api/events/playerTick:
    post:
      tags: [Events]
      summary: api.onPlayerTick(callback)
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PlayerEventHandler'
      responses:
        '200':
          description: Handler registered

  /api/events/chatMessage:
    post:
      tags: [Events]
      summary: api.onChatMessage(callback)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                callback:
                  type: string
      responses:
        '200':
          description: Handler registered

  /api/events/blockBreak:
    post:
      tags: [Events]
      summary: api.onBlockBreak(callback)
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BlockEventHandler'
      responses:
        '200':
          description: Handler registered

  /api/events/blockPlace:
    post:
      tags: [Events]
      summary: api.onBlockPlace(callback)
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BlockEventHandler'
      responses:
        '200':
          description: Handler registered

  /api/events/useBlock:
    post:
      tags: [Events]
      summary: api.onUseBlock(callback)
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UseBlockEventHandler'
      responses:
        '200':
          description: Handler registered

  /api/events/useItem:
    post:
      tags: [Events]
      summary: api.onUseItem(callback)
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UseItemEventHandler'
      responses:
        '200':
          description: Handler registered

  /api/events/attackEntity:
    post:
      tags: [Events]
      summary: api.onAttackEntity(callback)
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AttackEntityEventHandler'
      responses:
        '200':
          description: Handler registered

  /api/events/entityDamage:
    post:
      tags: [Events]
      summary: api.onEntityDamage(callback)
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EntityDamageEventHandler'
      responses:
        '200':
          description: Handler registered

  /api/events/entityDeath:
    post:
      tags: [Events]
      summary: api.onEntityDeath(callback)
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EntityDeathEventHandler'
      responses:
        '200':
          description: Handler registered

  /api/world/setBlock:
    post:
      tags: [World]
      summary: api.world.setBlock(x, y, z, dimensionId, blockId)
      description: Set a single block at the given position.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [x, y, z, dimensionId, blockId]
              properties:
                x: { type: integer }
                y: { type: integer }
                z: { type: integer }
                dimensionId: { type: string }
                blockId: { type: string }
      responses:
        '200':
          description: Block set
      x-codeSamples:
        - lang: JavaScript
          label: Place a diamond block
          source: |
            api.world.setBlock(0, 64, 0, "minecraft:overworld", "minecraft:diamond_block");

  /api/world/getBlock:
    get:
      tags: [World]
      summary: api.world.getBlock(x, y, z, dimensionId)
      parameters:
        - name: x
          in: query
          required: true
          schema: { type: integer }
        - name: y
          in: query
          required: true
          schema: { type: integer }
        - name: z
          in: query
          required: true
          schema: { type: integer }
        - name: dimensionId
          in: query
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Block snapshot
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BlockSnapshot'

  /api/world/fillArea:
    post:
      tags: [World]
      summary: api.world.fillArea(x1, y1, z1, x2, y2, z2, dimensionId, blockId)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [x1, y1, z1, x2, y2, z2, dimensionId, blockId]
              properties:
                x1: { type: integer }
                y1: { type: integer }
                z1: { type: integer }
                x2: { type: integer }
                y2: { type: integer }
                z2: { type: integer }
                dimensionId: { type: string }
                blockId: { type: string }
      responses:
        '200':
          description: Area filled
          content:
            application/json:
              schema:
                type: object
                properties:
                  blocksPlaced: { type: integer }

  /api/world/replaceBlocks:
    post:
      tags: [World]
      summary: api.world.replaceBlocks(x1, y1, z1, x2, y2, z2, dimensionId, fromBlockId, toBlockId)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [x1, y1, z1, x2, y2, z2, dimensionId, fromBlockId, toBlockId]
              properties:
                x1: { type: integer }
                y1: { type: integer }
                z1: { type: integer }
                x2: { type: integer }
                y2: { type: integer }
                z2: { type: integer }
                dimensionId: { type: string }
                fromBlockId: { type: string }
                toBlockId: { type: string }
      responses:
        '200':
          description: Blocks replaced
          content:
            application/json:
              schema:
                type: object
                properties:
                  blocksReplaced: { type: integer }

  /api/players/list:
    get:
      tags: [Players]
      summary: api.players.list()
      responses:
        '200':
          description: List of players
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PlayerState'

  /api/players/teleport:
    post:
      tags: [Players]
      summary: api.players.teleport(player, x, y, z, dimensionId)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [player, x, y, z, dimensionId]
              properties:
                player: { type: string }
                x: { type: number }
                y: { type: number }
                z: { type: number }
                dimensionId: { type: string }
      responses:
        '200': { description: Player teleported }
        '404': { description: Player not found }
      x-codeSamples:
        - lang: JavaScript
          label: Teleport Steve
          source: |
            api.players.teleport("Steve", 0, 80, 0, "minecraft:overworld");

  /api/players/setGamemode:
    post:
      tags: [Players]
      summary: api.players.setGamemode(player, mode)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [player, mode]
              properties:
                player: { type: string }
                mode:
                  type: string
                  enum: [SURVIVAL, CREATIVE, ADVENTURE, SPECTATOR]
      responses:
        '200': { description: Gamemode set }

  /api/players/setHealth:
    post:
      tags: [Players]
      summary: api.players.setHealth(player, health)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [player, health]
              properties:
                player: { type: string }
                health:
                  type: number
                  minimum: 0
      responses:
        '200': { description: Health set }

  /api/players/heal:
    post:
      tags: [Players]
      summary: api.players.heal(player, amount)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [player, amount]
              properties:
                player: { type: string }
                amount:
                  type: number
                  minimum: 0
      responses:
        '200': { description: Player healed }

  /api/players/giveItem:
    post:
      tags: [Players]
      summary: api.players.giveItem(player, itemId, count)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [player, itemId, count]
              properties:
                player: { type: string }
                itemId: { type: string }
                count:
                  type: integer
                  minimum: 1
      responses:
        '200': { description: Item given }

  /api/players/playerSetPos:
    post:
      tags: [Players]
      summary: api.players.setPos(playerState, x, y, z)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [playerState, x, y, z]
              properties:
                playerState:
                  $ref: '#/components/schemas/PlayerState'
                x: { type: number }
                y: { type: number }
                z: { type: number }
      responses:
        '200': { description: Position set }

  /api/players/playerTeleport:
    post:
      tags: [Players]
      summary: api.players.teleportState(playerState, x, y, z, dimensionId)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [playerState, x, y, z, dimensionId]
              properties:
                playerState:
                  $ref: '#/components/schemas/PlayerState'
                x: { type: number }
                y: { type: number }
                z: { type: number }
                dimensionId: { type: string }
      responses:
        '200': { description: PlayerState teleported }

  /api/players/playerSetHealth:
    post:
      tags: [Players]
      summary: api.players.setHealthState(playerState, health)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [playerState, health]
              properties:
                playerState:
                  $ref: '#/components/schemas/PlayerState'
                health: { type: number }
      responses:
        '200': { description: PlayerState health set }

  /api/players/playerHeal:
    post:
      tags: [Players]
      summary: api.players.healState(playerState, amount)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [playerState, amount]
              properties:
                playerState:
                  $ref: '#/components/schemas/PlayerState'
                amount: { type: number }
      responses:
        '200': { description: PlayerState healed }

  /api/players/playerSetGamemode:
    post:
      tags: [Players]
      summary: api.players.setGamemodeState(playerState, mode)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [playerState, mode]
              properties:
                playerState:
                  $ref: '#/components/schemas/PlayerState'
                mode:
                  type: string
                  enum: [SURVIVAL, CREATIVE, ADVENTURE, SPECTATOR]
      responses:
        '200': { description: PlayerState gamemode set }

  /api/players/playerGiveItem:
    post:
      tags: [Players]
      summary: api.players.giveItemState(playerState, itemId, count)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [playerState, itemId, count]
              properties:
                playerState:
                  $ref: '#/components/schemas/PlayerState'
                itemId: { type: string }
                count: { type: integer }
      responses:
        '200': { description: Item given }

  /api/players/playerEquipArmor:
    post:
      tags: [Players]
      summary: api.players.equipArmor(playerState, armorSpec)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [playerState, armorSpec]
              properties:
                playerState:
                  $ref: '#/components/schemas/PlayerState'
                armorSpec:
                  type: object
                  properties:
                    helmet: { type: string, nullable: true }
                    chestplate: { type: string, nullable: true }
                    leggings: { type: string, nullable: true }
                    boots: { type: string, nullable: true }
      responses:
        '200': { description: Armor equipped }

  /api/entities/spawn:
    post:
      tags: [Entities]
      summary: api.entities.spawn(entityTypeId, x, y, z, dimensionId)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [entityTypeId, x, y, z, dimensionId]
              properties:
                entityTypeId: { type: string }
                x: { type: number }
                y: { type: number }
                z: { type: number }
                dimensionId: { type: string }
      responses:
        '201':
          description: Entity spawned
          content:
            application/json:
              schema:
                type: object
                properties:
                  uuid: { type: string }
      x-codeSamples:
        - lang: JavaScript
          label: Spawn a cow
          source: |
            api.entities.spawn("minecraft:cow", 0, 64, 0, "minecraft:overworld");

  /api/entities/kill:
    delete:
      tags: [Entities]
      summary: api.entities.kill(entityId)
      parameters:
        - name: entityId
          in: query
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200': { description: Entity killed }
        '404': { description: Entity not found }

  /api/entities/find:
    post:
      tags: [Entities]
      summary: api.entities.find(options)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [center]
              properties:
                typeId: { type: string }
                center:
                  type: object
                  required: [x, y, z, dimensionId]
                  properties:
                    x: { type: number }
                    y: { type: number }
                    z: { type: number }
                    dimensionId: { type: string }
                radius:
                  type: number
                  default: 16
      responses:
        '200':
          description: Matching entities
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/EntitySnapshot'

  /api/data/load:
    get:
      tags: [Data]
      summary: api.data.load(namespace, key)
      parameters:
        - name: namespace
          in: query
          required: true
          schema: { type: string }
        - name: key
          in: query
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Data loaded
          content:
            application/json:
              schema:
                type: object
        '404':
          description: Not found

  /api/data/save:
    post:
      tags: [Data]
      summary: api.data.save(namespace, key, value)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [namespace, key, value]
              properties:
                namespace: { type: string }
                key: { type: string }
                value: { type: object }
      responses:
        '200':
          description: Data saved
      x-codeSamples:
        - lang: JavaScript
          label: Save player stats
          source: |
            api.data.save("stats", "steve", {
              kills: 10,
              deaths: 2
            });

  /api/scheduling/runLater:
    post:
      tags: [Scheduling]
      summary: api.scheduling.runLater(ticks, callback)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [ticks, callback]
              properties:
                ticks:
                  type: integer
                  minimum: 0
                callback:
                  type: string
      responses:
        '200':
          description: Task scheduled
      x-codeSamples:
        - lang: JavaScript
          label: Run once later
          source: |
            // Run after 100 ticks (~5 seconds)
            api.scheduling.runLater(100, () => {
              api.log("5 seconds passed!");
            });

  /api/scheduling/runRepeating:
    post:
      tags: [Scheduling]
      summary: api.scheduling.runRepeating(intervalTicks, callback)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [intervalTicks, callback]
              properties:
                intervalTicks:
                  type: integer
                  minimum: 1
                callback:
                  type: string
      responses:
        '200':
          description: Task scheduled

  /api/debug/inspect:
    post:
      tags: [Debug]
      summary: api.debug.inspect(obj)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                obj: {}
      responses:
        '200':
          description: OK

  /api/debug/describe:
    post:
      tags: [Debug]
      summary: api.debug.describe(obj)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                obj: {}
      responses:
        '200':
          description: OK

  /api/debug/breakpoint:
    post:
      tags: [Debug]
      summary: api.debug.breakpoint()
      responses:
        '500':
          description: Breakpoint thrown

  /api/debug/setDebugLocal:
    post:
      tags: [Debug]
      summary: api.debug.setDebugLocal(options)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [debugLocal]
              properties:
                debugLocal: { type: boolean }
                logToPlayer:
                  type: boolean
                  default: false
                playerName:
                  type: string
                  nullable: true
      responses:
        '200':
          description: Debug options set

  /api/debug/startDebugger:
    post:
      tags: [Debug]
      summary: api.debug.startDebugger(port?)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                port:
                  type: integer
                  default: 31337
                  minimum: 1024
                  maximum: 65535
      responses:
        '200':
          description: Debugger started
      x-codeSamples:
        - lang: JavaScript
          label: Default port
          source: |
            api.debug.startDebugger();

        - lang: JavaScript
          label: Custom port
          source: |
            api.debug.startDebugger(40000);

components:
  schemas:
    BlockSnapshot:
      type: object
      properties:
        blockId: { type: string }
        x: { type: integer }
        y: { type: integer }
        z: { type: integer }
        dimensionId: { type: string }

    PlayerState:
      type: object
      properties:
        _kind: { type: string }
        name: { type: string }
        uuid:
          type: string
          format: uuid
        pos:
          type: array
          items: { type: number }
          minItems: 3
          maxItems: 3
        dimensionId: { type: string }
        gamemode:
          type: string
          nullable: true
          enum: [SURVIVAL, CREATIVE, ADVENTURE, SPECTATOR]
        health: { type: number }
        maxHealth: { type: number }
        xpLevel: { type: integer }
        xpProgress: { type: number }
        mainHand:
          $ref: '#/components/schemas/ItemSummary'
        offHand:
          $ref: '#/components/schemas/ItemSummary'
        inventory:
          $ref: '#/components/schemas/InventorySummary'

    ItemSummary:
      type: object
      properties:
        empty: { type: boolean }
        slot:
          type: integer
          nullable: true
        count:
          type: integer
          nullable: true
        itemId:
          type: string
          nullable: true

    ArmorSummary:
      type: object
      properties:
        helmet:
          $ref: '#/components/schemas/ItemSummary'
        chestplate:
          $ref: '#/components/schemas/ItemSummary'
        leggings:
          $ref: '#/components/schemas/ItemSummary'
        boots:
          $ref: '#/components/schemas/ItemSummary'

    InventorySummary:
      type: object
      properties:
        size: { type: integer }
        nonEmpty: { type: integer }
        hotbar:
          type: array
          items:
            $ref: '#/components/schemas/ItemSummary'
        armor:
          $ref: '#/components/schemas/ArmorSummary'

    EntitySnapshot:
      type: object
      properties:
        uuid:
          type: string
          format: uuid
        typeId:
          type: string
          nullable: true
        name: { type: string }
        pos:
          type: array
          items: { type: number }
          minItems: 3
          maxItems: 3
        dimensionId: { type: string }

    CommandContext:
      type: object
      properties:
        name: { type: string }
        uuid:
          type: string
          format: uuid
          nullable: true
        dimensionId: { type: string }
        player:
          allOf:
            - $ref: '#/components/schemas/PlayerState'
            - nullable: true
        gameProfile:
          type: object
        reply:
          type: string

    BlockEvent:
      type: object
      properties:
        playerName: { type: string }
        uuid:
          type: string
          format: uuid
        blockId: { type: string }
        x: { type: integer }
        y: { type: integer }
        z: { type: integer }
        dimensionId: { type: string }

    UseBlockEvent:
      type: object
      properties:
        playerName: { type: string }
        uuid:
          type: string
          format: uuid
        hand:
          type: string
          enum: [MAIN_HAND, OFF_HAND]
        blockId: { type: string }
        x: { type: integer }
        y: { type: integer }
        z: { type: integer }
        face: { type: string }
        dimensionId: { type: string }

    UseItemEvent:
      type: object
      properties:
        playerName: { type: string }
        uuid:
          type: string
          format: uuid
        hand:
          type: string
          enum: [MAIN_HAND, OFF_HAND]
        itemId: { type: string }
        itemCount: { type: integer }
        dimensionId: { type: string }

    AttackEntityEvent:
      type: object
      properties:
        playerName: { type: string }
        uuid:
          type: string
          format: uuid
        hand:
          type: string
          enum: [MAIN_HAND, OFF_HAND]
        targetType: { type: string }
        targetUuid:
          type: string
          format: uuid
        dimensionId: { type: string }

    EntityDamageEvent:
      type: object
      properties:
        victimUuid:
          type: string
          format: uuid
        victimType: { type: string }
        victimName:
          type: string
          nullable: true
        amount: { type: number }
        sourceType: { type: string }
        attackerUuid:
          type: string
          format: uuid
          nullable: true
        dimensionId: { type: string }

    EntityDeathEvent:
      type: object
      properties:
        victimUuid:
          type: string
          format: uuid
        victimType: { type: string }
        victimName:
          type: string
          nullable: true
        killedBy:
          type: string
          nullable: true
        dimensionId: { type: string }

    PlayerEventHandler:
      type: object
      properties:
        callback:
          type: string

    BlockEventHandler:
      type: object
      properties:
        callback:
          type: string

    UseBlockEventHandler:
      type: object
      properties:
        callback:
          type: string

    UseItemEventHandler:
      type: object
      properties:
        callback:
          type: string

    AttackEntityEventHandler:
      type: object
      properties:
        callback:
          type: string

    EntityDamageEventHandler:
      type: object
      properties:
        callback:
          type: string

    EntityDeathEventHandler:
      type: object
      properties:
        callback:
          type: string
